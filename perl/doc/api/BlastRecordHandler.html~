<html><head><title>Class BlastRecordHandler</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.03,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Tue Feb 23 20:05:49 2010 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Class_BlastRecordHandler"
>Class <code>BlastRecordHandler</code></a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Description"
>Description</a></h2>

<pre> Allows for different types of record handling of Blast output. Used
 as an adapter passed to the BlastParser for different handling of 
 blast information.</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Author:_Leo_Przybylski_(przybyls@arizona.edu)"
>Author: <i>Leo Przybylski (przybyls@arizona.edu)</i></a></h3>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Inherits_From:_RecordHandler"
>Inherits From: <code>RecordHandler</code></a></h3>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Default_Constructor"
>Default Constructor</a></h2>

<p>Constructs a <code>BlastRecordHandler</code> from its attributes</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Parameters"
>Parameters</a></h3>

<dl>
<dt><a 
>a <code>ClusterGraph</code>. When it handles a record, an <code>Gene</code> is added to the <code>ClusterGraph</code>. This makes the <code>BlastRecordHandler</code> stateful.</a></dt>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Method_handleRecord"
>Method <code>handleRecord</code></a></h2>

<p>Creates a <code>BlastRecord</code> and handles it.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Parameters"
>Parameters</a></h3>

<dl>
<dt><a name="record_-_an_array_of_fields_used_to_populate_a_BlastRecord"
><code>record</code> - an array of fields used to populate a <code>BlastRecord</code></a></dt>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Method_isSelfHit"
>Method <code>isSelfHit</code></a></h2>

<p>Handles <i>self hit</i> blast records</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Parameters"
>Parameters</a></h3>

<dl>
<dt><a name="record_-_BlastRecord_instance"
><code>record</code> - <code>BlastRecord</code> instance</a></dt>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Getter/Setter_graph"
>Getter/Setter <code>graph</code></a></h2>

<p>Getter/Setter for the cluster graph.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Parameters"
>Parameters</a></h3>

<dl>
<dt><a name="graph_to_set_(optional)"
><code>graph</code> to set (optional)</a></dt>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Returns"
>Returns</a></h3>

<p>Gets the <code>graph</code>. Only returns something if there is no parameter present.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Getter/Setter_current"
>Getter/Setter <code>current</code></a></h2>

<p>Getter/Setter for the current cluster.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Parameters"
>Parameters</a></h3>

<dl>
<dt><a name="current_to_set_(optional)"
><code>current</code> to set (optional)</a></dt>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Returns"
>Returns</a></h3>

<p>Gets the <code>current</code>. Only returns something if there is no parameter present.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Getter/Setter_alignments"
>Getter/Setter <code>alignments</code></a></h2>

<p>Getter/Setter for the alignment length requirements hash. Each alignment length is stored with the query id as the key.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Parameters"
>Parameters</a></h3>

<dl>
<dt><a name="alignments_to_set_(optional)"
><code>alignments</code> to set (optional)</a></dt>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Returns"
>Returns</a></h3>

<p>Gets the <code>alignments</code>. Only returns something if there is no parameter present.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Method_validate"
>Method <code>validate</code></a></h2>

<p>Validates a <code>BlastRecord</code> or <code>Gene</code> using the self hit alignment information. If this record is valid, we can use that information to determine if it is an gene or not.</p>

<p>A valid <code>BlastRecord</code> has a % <code>identity</code> larger than that of the requirement. The % <code>identity</code> requirement is determined at the point when the <code>ClusterGraph</code> instance is created. That is, the <code>ClusterGraph</code> knows what the requirement is. The same goes for the <code>alignment</code> ratio requirement. The <code>ClusterGraph</code> also knows what that is. The <code>alignment</code> ratio is determined by the record alignment/self hit alignment. In order to obtain the self hit for a given record, it is regarded that the <code>Cluster</code> the <code>BlastRecord</code> belongs in has an <code>Gene</code> somewhere with a subject that is the same as the <code>BlastRecord</code>&#39;s query which would make its query and subject the same (a self hit.)</p>

<p>Take note that this only works if the <code>Cluster</code> that the <code>BlastRecord</code> belongs to has a self hit. If there isn&#39;t one, then we just say it&#39;s valid. When the self hit is discovered, this <code>BlastRecord</code> will be re-evaluated.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Parameters"
>Parameters</a></h3>

<dl>
<dt><a name="record_-_The_BlastRecord_or_Gene_to_validate"
><code>record</code> - The <code>BlastRecord</code> or <code>Gene</code> to validate</a></dt>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Returns"
>Returns</a></h3>

<p><code>1</code> if the record is valid, <code>0</code> otherwise.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Method_clusterForRecord"
>Method <code>clusterForRecord</code></a></h2>

<p>Lookup the <code>Cluster</code> belonging to a <code>BlastRecord</code>. Uses both <code>query</code> and <code>subject</code> properties of the <code>BlastRecord</code></p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Parameters"
>Parameters</a></h3>

<dl>
<dt><a name="record_-_The_BlastRecord_or_Gene_to_lookup_a_Cluster_for"
><code>record</code> - The <code>BlastRecord</code> or <code>Gene</code> to lookup a <code>Cluster</code> for</a></dt>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Returns"
>Returns</a></h3>

<p>A <code>Cluster</code></p>

<!-- end doc -->

</body></html>
